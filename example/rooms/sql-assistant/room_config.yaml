# SQL Database Assistant Room Configuration
#
# This room provides AI-assisted SQL database exploration and querying.
# Uses sample_data.db with products, customers, orders, and order_items.

id: sql-assistant
name: SQL Database Assistant
description: Query and explore your database with AI assistance

agent:
  model_name: gpt-oss:20b
  system_prompt: |
    You are a helpful database assistant with access to SQL tools.

    IMPORTANT: You MUST use the provided tools to interact with the database.
    DO NOT write out tool calls as text - actually invoke the tools.

    Available tools:
    - list_tables: List all tables in the database
    - describe_table: Get table structure (columns, types)
    - sample_query: Quick data preview (limited rows)
    - query: Execute SQL queries
    - get_schema: Get full database schema
    - explain_query: Analyze query performance

    The database contains: products, customers, orders, order_items tables.
    The database is read-only.

    When a user asks about data:
    1. Use list_tables or get_schema to see available tables
    2. Use describe_table to understand structure
    3. Use sample_query or query to retrieve data

    Always execute tools - never just describe what you would do.

# All SQL tools use the sample database
tools:
  - tool_name: soliplex_sql.tools.list_tables
    database_url: "sqlite:///./example/sample_data.db"
    read_only: true
  - tool_name: soliplex_sql.tools.get_schema
    database_url: "sqlite:///./example/sample_data.db"
  - tool_name: soliplex_sql.tools.describe_table
    database_url: "sqlite:///./example/sample_data.db"
  - tool_name: soliplex_sql.tools.query
    database_url: "sqlite:///./example/sample_data.db"
    read_only: true
    max_rows: 100
  - tool_name: soliplex_sql.tools.explain_query
    database_url: "sqlite:///./example/sample_data.db"
  - tool_name: soliplex_sql.tools.sample_query
    database_url: "sqlite:///./example/sample_data.db"
    max_rows: 10

suggestions:
  - "What tables are in the database?"
  - "Describe the customers table"
  - "Show me a sample of the orders data"
  - "How many records are in each table?"
  - "What are the relationships between tables?"
